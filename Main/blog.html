<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blog - Personal Website">
    <title>Blog List</title>
    <link rel="stylesheet" href="../styles/styles.blog.css">
</head>

<body>
    <header>
        <h1>My Blog</h1>
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="blog.html">Blog</a></li>
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav>
    </header>
    <main>
    <section>
        <div class="blog-header">
            <h2>Latest Posts</h2>
            
            <div class="sort-controls">
                <label for="sort-select">Sort by:</label>
                <select id="sort-select">
                    <option value="newest">ğŸ“… Newest First</option>
                    <option value="oldest">ğŸ“… Oldest First</option>
                </select>
            </div>
        </div>

        <div id="blog-posts-container">
            </div>
    </section>
</main>
    <footer>
        <p>&copy; 2025 CLMatt. All rights reserved.</p>
    </footer>

    <script src="../javascript/post.js"></script>
<script>

    const container = document.getElementById('blog-posts-container');
    const sortSelect = document.getElementById('sort-select');

    // 2. æ¸²æŸ“å‡½æ•°ï¼šæŠŠæ•°æ®å˜æˆ HTML
    function renderPosts(posts) {
        container.innerHTML = ''; // å…ˆæ¸…ç©ºå®¹å™¨

        posts.forEach(post => {
            // æ„å»º HTML å­—ç¬¦ä¸²
            const articleHTML = `
                <article>
                    <h3>
                        <a href="article.html?id=${post.id}">${post.title}</a>
                    </h3>
                    <div class="post-meta">
                        <span class="date-pub">
                            ğŸ“… å‘å¸ƒäº: <time>${post.date}</time>
                        </span>
                        ${post.update ? `<span class="date-upd">ğŸ”„ æ›´æ–°äº: <time>${post.update}</time></span>` : ''}
                    </div>
                    <p>${post.desc}</p>
                </article>
            `;
            // æ’å…¥åˆ°é¡µé¢
            container.insertAdjacentHTML('beforeend', articleHTML);
        });
    }

    // 3. æ’åºå‡½æ•°
    function sortPosts(criteria) {
        // å¤åˆ¶ä¸€ä»½æ•°æ®ï¼Œä»¥å…ä¿®æ”¹åŸæ•°ç»„
        const sortedPosts = [...blogData];

        if (criteria === 'newest') {
            // æŒ‰æ—¥æœŸé™åº (æ–°çš„åœ¨å‰)
            sortedPosts.sort((a, b) => new Date(b.date) - new Date(a.date));
        } else if (criteria === 'oldest') {
            // æŒ‰æ—¥æœŸå‡åº (æ—§çš„åœ¨å‰)
            sortedPosts.sort((a, b) => new Date(a.date) - new Date(b.date));
        }

        renderPosts(sortedPosts);
    }

    // 4. äº‹ä»¶ç›‘å¬ï¼šå½“ä¸‹æ‹‰èœå•å˜åŒ–æ—¶ï¼Œé‡æ–°æ’åº
    sortSelect.addEventListener('change', (e) => {
        sortPosts(e.target.value);
    });

    // 5. é¡µé¢åŠ è½½æ—¶ï¼Œé»˜è®¤æ‰§è¡Œä¸€æ¬¡â€œæœ€æ–°ä¼˜å…ˆâ€æ’åº
    sortPosts('newest');

</script>

</body>
</html>